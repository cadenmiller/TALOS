
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="description" content="TALOS First Time Setup">
    <meta name="keywords" content="HTML, CSS, JavaScript">
    <meta name="author" content="Caden Miller">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>First Time Setup</title>

    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/pico.min.css">
  </head>

  <main class="container">

    <hgroup>
      <h2><i class="fa fa-gear fa-fw" aria-hidden="true"></i> Let's get you setup. </h2>
      <p>Here's TALOS, your personal status device.</p>
    </hgroup>

    <form action="/done" method="get" id="setup_form">
      <div class="grid">

        <article>
          <h3> <i class="fa fa-wifi fa-fw"></i> Enter your WiFi information</h3>
          
          <input type="text" id="wifi_ssid" name="wifi_ssid" placeholder="WiFi SSID" required/>
          <label for="wifi_password">
            <input type="password" id="wifi_password" name="wifi_password" placeholder="WiFi Password" required />
            <input type="checkbox" id="wifi_password_show" onchange="togglePassword()" />
            Show Password
          </label>

        </article>

        <article>
          <h3><i class="fa fa-spotify fa-fw" aria-hidden="true"></i> Spotify</h3>

          <label for="enable_spotify">
            <blockquote>
              <b>NOTE</b><br>
              In order to finish configuring Spotify, after setup go to <a href="http://talos.local/spotify">http://talos.local/spotify</a> on your device or computer and authorize Spotify.
            </blockquote>

            <input type="checkbox" id="enable_spotify" name="enable_spotify" />
              Enable Spotify

          </label>
        </article>
      </div>

      
      <button type="submit" class="secondary">Finish</button>
    </form>
    <blockquote>
      The first time setup can always be reset via Web Serial at <a href="https://cadenmiller.dev/talos">https://cadenmiller.dev/talos</a>.<br>
      An alternative is to recompiling and uploading TALOS at <a href="https://github.com/cadenmiller/talos">https://github.com/cadenmiller/talos</a>.
    </blockquote>
  </main>
</html>

<script>
  const checkEnterprise = document.getElementById("wifi_enterprise_checkbox");
  const checkPassword = document.getElementById("wifi_password_show");
  const inputPassword = document.getElementById("wifi_password");
  const inputEnterpriseIdentity = document.getElementById("wifi_enterprise_identity");
  const inputEnterpriseUsername = document.getElementById("wifi_enterprise_username");

  function togglePassword()
  {
    inputPassword.setAttribute("type", checkPassword.checked ? "text" : "password");
  }

  function toggleEnterprise()
  {
    inputEnterpriseIdentity.disabled = !checkEnterprise.checked;
    inputEnterpriseUsername.disabled = !checkEnterprise.checked;
  }

</script>